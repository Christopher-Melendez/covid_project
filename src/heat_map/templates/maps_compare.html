{% extends 'base.html'%}
{% block body-content %}

    <form id="map-form" method='POST'>
    {% csrf_token %}

        <div id="map-wrapper" class="map-text">
            <div>
            <br><iframe class ="map-viewport" id="map-viewport2" srcdoc="{{ map_html1 }}"></iframe>
            
            <br>

            <label for="map-choice1">Choose A Filter For Map 1:</label>
            <select name="map-choice1" id="map-choice1" form="map-form">
                <option value="None">None</option>
                <option value="COVID-19 Cases">COVID-19 Cases</option>
                <option value="COVID-19 Deaths">COVID-19 Deaths</option>
                <option value="Median Income">Median Income</option>
                <option value="Insurance Coverage">Insurance Coverage</option>
            </select>

            </div>
    
            <div>
            <br><iframe class ="map-viewport" id="map-viewport1" srcdoc="{{ map_html2 }}"></iframe>
            
            <br>

            <label for="map-choice2">Choose A Filter For Map 2:</label>
            <select name="map-choice2" id="map-choice2" form="map-form">
                <option value="None">None</option>
                <option value="COVID-19 Cases">COVID-19 Cases</option>
                <option value="COVID-19 Deaths">COVID-19 Deaths</option>
                <option value="Median Income">Median Income</option>
                <option value="Insurance Coverage">Insurance Coverage</option>
            </select>

            </div>
        </div>           

        <input class="item button" type='submit' style="margin: auto;" value='Change Map Filters' />

        <div id="comparison-wrapper">
            <div>
                <p class="map-text" style="margin-right:20px;">Comparison Mode: </p>
            </div>
            <div>
            <label class="switch">
                <input type="checkbox" id="comparison-mode2" name="comparison-mode2" value="true" onchange="document.getElementById('map-form').submit()">
                <span class="slider"></span>
            </label>
            </div>
        </div>
    
    </form>
    
    <script>
        document.getElementById('comparison-mode2').checked = "{{ comparison_mode_context2 }}";
        document.getElementById('map-choice1').value = "{{ map_choice1 }}";
        document.getElementById('map-choice2').value = "{{ map_choice2 }}";
    </script>



<style>
    #map-wrapper {
        width: 75vw;
        display: inline-flex;
    }
    #comparison-wrapper {
        display: inline-flex;
        padding: 10px;
        margin: 20px;
    }
    .map-viewport {
        width: 35vw;
        height: 45vh;
        margin: 10px;
    }
    h3 {
        position: center;
    }
    .map-text {
        font-size: 20px;  
    }
</style>

{% endblock %}